/* =========================================================
   Option B (Updated v3):
   Editorial + Side Rail + Bigger Type
   + system UI font
   + footer matches background (NO line)
   + links: hover = animated solid underline only
   ========================================================= */

/* ---------- Design tokens ---------- */
:root{
  --nk-accent: #500000;                 /* TAMU maroon */
  --nk-ink: rgba(17,24,39,.92);
  --nk-muted: rgba(17,24,39,.62);
  --nk-line: rgba(17,24,39,.12);
  --nk-paper: #fbfbf9;                  /* paper tone */

  --nk-radius: 14px;
  --nk-radius-sm: 10px;
}

body.dark{
  --nk-ink: rgba(255,255,255,.92);
  --nk-muted: rgba(255,255,255,.62);
  --nk-line: rgba(255,255,255,.14);
  --nk-paper: #0c0f14;
}

/* ---------- Typography (system UI) ---------- */
:root{
  --font-heading: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont,
                  "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans",
                  "Liberation Sans", sans-serif;
  --font-body: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont,
               "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans",
               "Liberation Sans", sans-serif;
  --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
               "Liberation Mono", "Courier New", monospace;
}

body{
  font-family: var(--font-body);
  font-weight: 400;
  letter-spacing: 0.002em;
  background: var(--nk-paper) !important;
  color: var(--nk-ink);
  font-size: 18px;
}
@media (max-width: 680px){
  body{ font-size: 17px; }
}

/* Headings */
h1,h2,h3,h4, nav, .navbar, .logo, #menu{
  font-family: var(--font-heading);
  letter-spacing: -0.012em;
  color: var(--nk-ink);
}
h1{ font-weight: 700; font-size: clamp(2.05rem, 3.2vw, 2.6rem); }
h2{ font-weight: 750; font-size: clamp(1.55rem, 2.4vw, 2.0rem); }
h3{ font-weight: 700; font-size: clamp(1.25rem, 2.0vw, 1.55rem); }

/* Content + side rail */
.post-content{
  line-height: 1.75;
  font-size: 1.06rem;
  position: relative;
  padding-left: 1.05rem;
  border-left: 3px solid color-mix(in srgb, var(--nk-accent) 20%, transparent);
}
@media (max-width: 680px){
  .post-content{ font-size: 1.03rem; }
}
body.dark .post-content{
  border-left: 3px solid color-mix(in srgb, #ddd8d8 22%, transparent);
}

/* Remove rail on home/profile */
.profile .post-content,
.profile-mode .post-content,
.home-info .post-content{
  border-left: none !important;
  padding-left: 0 !important;
}

/* Header */
.header,
.nav,
.site-header,
.header .nav{
  background: var(--nk-paper) !important;
  border-bottom: 1px solid var(--nk-line) !important;
  box-shadow: none !important;
  -webkit-backdrop-filter: none !important;
  backdrop-filter: none !important;
}

/* Footer: same background, NO top line */
.footer,
.footer__inner,
.footer .footer__inner,
.footer .footer__content,
.footer .footer__container,
#footer{
  background: var(--nk-paper) !important;
  border-top: none !important;
  box-shadow: none !important;
}
body.dark .footer,
body.dark .footer__inner,
body.dark .footer .footer__inner,
body.dark .footer .footer__content,
body.dark .footer .footer__container,
body.dark #footer{
  background: var(--nk-paper) !important;
  border-top: none !important;
}

/* =========================================================
   LINKS
   - No underline by default
   - Hover: animated solid underline only
   - Icon/SVG links: magnify on hover (unchanged)
   ========================================================= */

/* Base link reset */
.profile-mode a,
.profile a,
.home-info a,
#profile a,
.post-content a,
.post-entry a{
  text-decoration: none !important;
  position: relative;
  color: inherit;
}

/* ---------- Text links: NO underline by default ---------- */
.profile-mode a:not(:has(svg)):not(.button),
.profile a:not(:has(svg)):not(.button),
.home-info a:not(:has(svg)):not(.button),
#profile a:not(:has(svg)):not(.button),
.post-content a:not(:has(svg)):not(.button),
.post-entry a:not(:has(svg)):not(.button){
  display: inline-block;
  padding-bottom: 2px;
  border-bottom: none;                 /* removed dotted underline */
  transition: color .2s ease;
}

/* Animated underline layer (solid) */
.profile-mode a:not(:has(svg)):not(.button)::after,
.profile a:not(:has(svg)):not(.button)::after,
.home-info a:not(:has(svg)):not(.button)::after,
#profile a:not(:has(svg)):not(.button)::after,
.post-content a:not(:has(svg)):not(.button)::after,
.post-entry a:not(:has(svg)):not(.button)::after{
  content:"";
  position:absolute;
  left:0;
  bottom:-2px;
  width:100%;
  height:2px;
  background: var(--nk-accent);
  transform: scaleX(0);
  transform-origin:left;
  transition: transform .25s ease, background .25s ease;
  pointer-events:none;
}

body.dark .profile-mode a:not(:has(svg)):not(.button)::after,
body.dark .profile a:not(:has(svg)):not(.button)::after,
body.dark .home-info a:not(:has(svg)):not(.button)::after,
body.dark #profile a:not(:has(svg)):not(.button)::after,
body.dark .post-content a:not(:has(svg)):not(.button)::after,
body.dark .post-entry a:not(:has(svg)):not(.button)::after{
  background:#ddd8d8;
}

/* Hover: show animated underline */
.profile-mode a:not(:has(svg)):not(.button):hover,
.profile a:not(:has(svg)):not(.button):hover,
.home-info a:not(:has(svg)):not(.button):hover,
#profile a:not(:has(svg)):not(.button):hover,
.post-content a:not(:has(svg)):not(.button):hover,
.post-entry a:not(:has(svg)):not(.button):hover{
  color: var(--nk-accent);
  border-bottom-color: color-mix(in srgb, var(--nk-accent) 22%, transparent);
}
.profile-mode a:not(:has(svg)):not(.button):hover::after,
.profile a:not(:has(svg)):not(.button):hover::after,
.home-info a:not(:has(svg)):not(.button):hover::after,
#profile a:not(:has(svg)):not(.button):hover::after,
.post-content a:not(:has(svg)):not(.button):hover::after,
.post-entry a:not(:has(svg)):not(.button):hover::after{
  transform: scaleX(1);
}

body.dark .profile-mode a:not(:has(svg)):not(.button):hover,
body.dark .profile a:not(:has(svg)):not(.button):hover,
body.dark .home-info a:not(:has(svg)):not(.button):hover,
body.dark #profile a:not(:has(svg)):not(.button):hover,
body.dark .post-content a:not(:has(svg)):not(.button):hover,
body.dark .post-entry a:not(:has(svg)):not(.button):hover{
  color:#ddd8d8;
  border-bottom-color: color-mix(in srgb, #ddd8d8 26%, transparent);
}

/* No underline effect on buttons */
.profile-mode .buttons a::after,
.profile .buttons a::after,
.button::after,
.btn::after{
  display:none !important;
}

/* ---------- Icon/SVG links: magnify on hover ---------- */
.profile-mode a:has(svg),
.profile a:has(svg),
.home-info a:has(svg),
#profile a:has(svg),
.social-icons a:has(svg),
.post-content a:has(svg){
  display:inline-block;
  transition: transform .25s ease, color .25s ease, fill .25s ease, stroke .25s ease;
}

.profile-mode a:has(svg):hover,
.profile a:has(svg):hover,
.home-info a:has(svg):hover,
#profile a:has(svg):hover,
.social-icons a:has(svg):hover,
.post-content a:has(svg):hover{
  transform: scale(1.18);
  color: var(--nk-accent);
}

body.dark .profile-mode a:has(svg):hover,
body.dark .profile a:has(svg):hover,
body.dark .home-info a:has(svg):hover,
body.dark #profile a:has(svg):hover,
body.dark .social-icons a:has(svg):hover,
body.dark .post-content a:has(svg):hover{
  color:#ddd8d8;
}

/* SVG strokes follow hover */
body:not(.dark) .social-icons a:has(svg):hover svg{
  fill:none !important;
  stroke: var(--nk-accent) !important;
}
body.dark .social-icons a:has(svg):hover svg{
  fill:none !important;
  stroke:#ddd8d8 !important;
}

/* Fallback if :has isn't supported */
@supports not selector(a:has(svg)) {
  .post-content a:hover,
  .post-entry a:hover,
  .profile-mode a:hover,
  .profile a:hover,
  .home-info a:hover,
  #profile a:hover{
    color: var(--nk-accent);
  }
  body.dark .post-content a:hover,
  body.dark .post-entry a:hover,
  body.dark .profile-mode a:hover,
  body.dark .profile a:hover,
  body.dark .home-info a:hover,
  body.dark #profile a:hover{
    color: #ddd8d8;
  }
}

/* Buttons: editorial pill */
.button,
.btn,
.home-info .button{
  border: 1.7px solid var(--nk-line) !important;
  background: transparent !important;
  color: var(--nk-ink) !important;
  border-radius: 999px !important;
  box-shadow: none !important;
  transition: transform .14s ease, border-color .18s ease, background .18s ease, color .18s ease;
}
.button:hover,
.btn:hover,
.home-info .button:hover{
  transform: translateY(-1px);
  border-color: color-mix(in srgb, var(--nk-accent) 55%, transparent) !important;
  background: color-mix(in srgb, var(--nk-accent) 8%, transparent) !important;
  color: var(--nk-accent) !important;
}
body.dark .button:hover,
body.dark .btn:hover,
body.dark .home-info .button:hover{
  border-color: color-mix(in srgb, #ddd8d8 38%, transparent) !important;
  background: color-mix(in srgb, #ddd8d8 10%, transparent) !important;
  color: #ddd8d8 !important;
}

/* Cards */
.post-entry,
.first-entry,
.entry,
.archive-entry{
  background: transparent !important;
  border: 1px solid var(--nk-line) !important;
  border-radius: var(--nk-radius);
  box-shadow: none !important;
}
.post-entry:hover,
.entry:hover,
.archive-entry:hover{
  border-color: color-mix(in srgb, var(--nk-accent) 30%, transparent) !important;
}

/* Blockquotes */
.post-content blockquote{
  border-left: 4px solid var(--nk-accent);
  background: color-mix(in srgb, var(--nk-accent) 7%, transparent);
  border-radius: var(--nk-radius-sm);
  padding: .9rem 1rem;
  margin: 1.1rem 0;
  color: var(--nk-ink);
}
body.dark .post-content blockquote{
  border-left-color:#ddd8d8;
  background: color-mix(in srgb, #ddd8d8 8%, transparent);
}

/* Code */
.post-content code{
  font-family: var(--font-mono);
  font-size: .92em;
  background: color-mix(in srgb, var(--nk-ink) 6%, transparent);
  padding: .15em .4em;
  border-radius: 8px;
}
.post-content pre{
  border: 1px solid var(--nk-line);
  border-radius: var(--nk-radius);
  background: color-mix(in srgb, var(--nk-ink) 4%, transparent) !important;
  box-shadow: none !important;
  overflow: auto;
}
.post-content pre code{
  background: transparent !important;
  padding: 0 !important;
}

/* Tables */
.post-content table{
  border-collapse: separate;
  border-spacing: 0;
  border: 1px solid var(--nk-line);
  border-radius: var(--nk-radius);
  overflow: hidden;
}
.post-content th{
  background: color-mix(in srgb, var(--nk-ink) 5%, transparent);
  font-family: var(--font-heading);
  font-weight: 700;
}
.post-content td, .post-content th{
  border-bottom: 1px solid var(--nk-line);
}
.post-content tr:last-child td{
  border-bottom: none;
}

/* Social icons spacing */
.social-icons{ gap: .25rem; }

/* Nav active */
#menu a span.active{
  color: var(--nk-accent);
  font-weight: 800;
}
body.dark #menu a span.active{
  color:#ddd8d8;
}

/* Title spacing */
.single-title,
.post-title{
  margin-bottom: 2.2rem;
}

/* === Disable the editorial left rail ONLY on /contact/ === */
html:has(head link[rel="canonical"][href$="/contact/"]) .post-content{
  border-left: none !important;
  padding-left: 0 !important;
}

/* Also disable any rail-like left padding on the single page container */
html:has(head link[rel="canonical"][href$="/contact/"]) .post-single .post-content{
  border-left: none !important;
  padding-left: 0 !important;
}

/* =========================================================
   RESEARCH PAGE DESIGN — Option C
   Editorial Cards + Quiet Accent Rail
   (full replacement for rk-* scheme)
   ========================================================= */

   .rk-tl{
    --rk-accent: #7a0019; /* maroon */
    --rk-text: rgba(17,24,39,.92);
    --rk-muted: rgba(17,24,39,.62);
    --rk-border: rgba(17,24,39,.12);
  
    --rk-card: rgba(255,255,255,.75);
    --rk-card-strong: rgba(255,255,255,.92);
  
    margin: 2.25rem 0;
    display: flex;
    flex-direction: column;
    gap: 2.25rem;
    position: relative;
  }
  
  body.dark .rk-tl{
    --rk-text: rgba(255,255,255,.92);
    --rk-muted: rgba(255,255,255,.62);
    --rk-border: rgba(255,255,255,.16);
  
    --rk-card: rgba(15,18,22,.72);
    --rk-card-strong: rgba(15,18,22,.88);
  }
  
  /* 2-column grid */
  .rk-group{
    display: grid;
    grid-template-columns: 150px 1fr;
    gap: 1.35rem;
    align-items: start;
  }
  
  /* Year label — clean, editorial */
  .rk-year{
    font-size: 1.35rem;
    font-weight: 800;
    color: var(--rk-text);
    opacity: .92;
    text-align: right;
    padding-right: .9rem;
    position: relative;
    white-space: nowrap;
  }
  
  /* A subtle “guide line” on the year column */
  .rk-year::after{
    content:"";
    position: absolute;
    right: -2px;
    top: .25rem;
    bottom: .25rem;
    width: 2px;
    border-radius: 2px;
    background: color-mix(in srgb, var(--rk-accent) 25%, transparent);
  }
  
  body.dark .rk-year::after{
    background: color-mix(in srgb, #ddd8d8 22%, transparent);
  }
  
  /* Items column */
  .rk-items{
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }
  
  /* Card — crisp, no glass */
  .rk-item{
    position: relative;
    display: grid;
    grid-template-columns: auto 1fr;
    gap: 1rem;
    align-items: start;
  
    padding: 1.05rem 1.2rem;
    border-radius: 16px;
    border: 1px solid var(--rk-border);
    background: var(--rk-card);
  
    box-shadow: none;
    overflow: visible; /* safe */
  }
  
  /* Soft maroon stripe (editorial accent) */
  .rk-item::before{
    content:"";
    position: absolute;
    left: 0;
    top: 12px;
    bottom: 12px;
    width: 4px;
    border-radius: 999px;
    background: color-mix(in srgb, var(--rk-accent) 55%, transparent);
  }
  
  body.dark .rk-item::before{
    background: color-mix(in srgb, #ddd8d8 40%, transparent);
  }
  
  /* Tag chip — always subtle maroon tint, NO hover */
  .rk-tag{
    display: inline-flex;
    align-items: center;
    padding: .22rem .62rem;
    border-radius: 999px;
  
    background: color-mix(in srgb, var(--rk-accent) 10%, transparent);
    border: 1px solid color-mix(in srgb, var(--rk-accent) 40%, transparent);
  
    color: var(--rk-accent);
    font-weight: 700;
    font-size: .82rem;
    letter-spacing: .02em;
  
    box-shadow: none;
    transform: none;
    transition: none;
  }
  
  body.dark .rk-tag{
    background: color-mix(in srgb, #ddd8d8 10%, transparent);
    border-color: color-mix(in srgb, #ddd8d8 28%, transparent);
    color: #ddd8d8;
  }
  
  /* Title + meta */
  .rk-title{
    margin: .05rem 0 .25rem;
    font-size: 1.08rem;
    color: var(--rk-text);
  }
  
  .rk-meta{
    color: var(--rk-muted);
    font-size: .93rem;
  }
  
  /* Status */
  .rk-status{
    display: block;
    font-style: italic;
    font-weight: normal;
    font-size: .9em;
    color: var(--rk-muted);
    margin-top: .12rem;
  }
  
  /* Pills row */
  .rk-pills{
    display:flex;
    flex-wrap:wrap;
    gap:.45rem;
    margin-top:.55rem;
    align-items:center;
  }
  
  /* Pills — PaperMod-ish (subtle tint, no lift) */
  :root{ --rk-pill-h: 30px; }
  
  .rk-pill,
  .rk-details > summary{
    box-sizing: border-box !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    height: var(--rk-pill-h) !important;
    padding: 0 .65rem !important;
    border-radius: 999px;
  
    border: 1px solid var(--rk-border);
    background: transparent;
    color: var(--rk-text);
    font-size: .85rem;
    text-decoration: none;
    line-height: 1;
  
    transition: background .18s ease, border-color .18s ease, color .18s ease;
  }
  
  .rk-pill:hover,
  .rk-details > summary:hover{
    background: color-mix(in srgb, var(--rk-accent) 8%, transparent);
    border-color: color-mix(in srgb, var(--rk-accent) 35%, transparent);
    color: var(--rk-accent);
  }
  
  body.dark .rk-pill:hover,
  body.dark .rk-details > summary:hover{
    background: color-mix(in srgb, #ddd8d8 10%, transparent);
    border-color: color-mix(in srgb, #ddd8d8 30%, transparent);
    color: #ddd8d8;
  }
  
  /* Details (Abstract/Awards) */
  .rk-details{ display:block; max-width:100%; }
  .rk-details > summary{ list-style:none; cursor:pointer; user-select:none; }
  .rk-details > summary::-webkit-details-marker{ display:none; }
  .rk-details > summary::marker{ content:""; }
  
  .rk-details[open]{ flex-basis:100%; }
  .rk-details[open] > summary{
    background: color-mix(in srgb, var(--rk-accent) 10%, transparent);
    border-color: color-mix(in srgb, var(--rk-accent) 45%, transparent);
    color: var(--rk-accent);
    border-bottom-left-radius: 0;
    border-bottom-right-radius: 0;
  }
  
  body.dark .rk-details[open] > summary{
    background: color-mix(in srgb, #ddd8d8 10%, transparent);
    border-color: color-mix(in srgb, #ddd8d8 35%, transparent);
    color: #ddd8d8;
  }
  
  /* Attached panel */
  .rk-details[open] .rk-abstract,
  .rk-details[open] .rk-awards{
    display:block;
    width:100%;
    box-sizing:border-box;
    margin:0;
    padding:.9rem 1rem;
  
    background: var(--rk-card-strong);
    border: 1px solid color-mix(in srgb, var(--rk-accent) 35%, transparent);
    border-top: none;
  
    border-bottom-left-radius: 12px;
    border-bottom-right-radius: 12px;
  
    color: var(--rk-muted);
  }
  
  body.dark .rk-details[open] .rk-abstract,
  body.dark .rk-details[open] .rk-awards{
    border-color: color-mix(in srgb, #ddd8d8 26%, transparent);
    color: var(--rk-muted);
  }
  
  /* External pill icon (keep your style) */
  .rk-pill.rk-external{
    position: relative;
  }
  
  .rk-pill.rk-external::after{
    content:"";
    display:inline-block;
    width:1em;
    height:1em;
    margin-left:.2em;
    background: currentColor;
    mask: url('data:image/svg+xml;utf8,\<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>') no-repeat center / contain;
    -webkit-mask: url('data:image/svg+xml;utf8,\<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>') no-repeat center / contain;
  }
  
  /* Typography inside panels */
  .rk-abstract, .rk-awards{
    font-size: .88rem;
    line-height: 1.45;
  }
  .rk-abstract p, .rk-awards li{ margin:.4rem 0; }
  
  /* Responsive */
  @media (max-width:720px){
    .rk-group{ grid-template-columns:1fr; }
    .rk-year{
      text-align:left;
      padding-right:0;
      margin-bottom:.25rem;
    }
    .rk-year::after{ display:none; }
  }

  /* ================================
   REMOVE ALL RESEARCH RAIL LINES
   ================================ */

/* Remove year column rail */
.rk-year::after{
  display: none !important;
}

/* Remove card left accent stripe */
.rk-item::before{
  display: none !important;
}

/* =========================================================
   FIX: prevent global underline rules from touching the NAV
   (EDIT: stops collisions with the menu underline)
   ========================================================= */
#menu a::after{
  content: none !important;
}

/* =========================================================
   NAV MENU: animated underline on hover (PaperMod) — stable
   (EDIT: uses ::before instead of ::after)
   ========================================================= */
#menu a{
  position: relative;
  text-decoration: none !important;
}

#menu a::before{
  content:"";
  position: absolute;
  left: 0;
  bottom: -6px;              /* distance below text */
  width: 100%;
  height: 2.5px;
  background: var(--nk-accent);
  transform: scaleX(0);
  transform-origin: left;
  transition: transform .28s ease;
  pointer-events:none;
}

#menu a:hover::before{
  transform: scaleX(1);
}

/* Dark mode: creamy underline */
body.dark #menu a::before{
  background: #ddd8d8;
}

/* =========================================================
   Final typography polish:
   - Fix right-edge overflow in justified text
   - Slightly soften name weight ("Somjit Roy")
   ========================================================= */

/* 1) Prevent words from overflowing in justified text */
.post-content p,
.profile .profile_inner p,
.home-info p{
  text-align: justify;
  text-justify: inter-word;

  /* critical fixes */
  hyphens: auto;
  -webkit-hyphens: auto;
  -ms-hyphens: auto;

  overflow-wrap: break-word;
  word-wrap: break-word;
  word-break: normal;
}

/* Mobile: justification causes rivers → switch to left */
@media (max-width: 680px){
  .post-content p,
  .profile .profile_inner p,
  .home-info p{
    text-align: left;
    hyphens: none;
  }
}

/* 2) Inline links: subtle emphasis, not heavy */
.post-content a:not(.button):not(:has(svg)),
.profile .profile_inner a:not(.button):not(:has(svg)),
.home-info a:not(.button):not(:has(svg)){
  font-weight: 520;
}

/* Dark mode: slightly lighter still */
body.dark .post-content a:not(.button):not(:has(svg)),
body.dark .profile .profile_inner a:not(.button):not(:has(svg)),
body.dark .home-info a:not(.button):not(:has(svg)){
  font-weight: 500;
}

/* 3) Author name ("Somjit Roy") — reduce boldness ONLY */
.logo a,
.site-title,
.header .logo a{
  font-weight: 520 !important;
}

/* =========================================================
   Bio: center the text block + keep it from running too wide
   (prevents right-edge overflow on long words/links)
   ========================================================= */

/* Center the bio “about” paragraph block and cap its width */
.profile .profile_inner{
  max-width: 68ch;
  margin-left: auto;
  margin-right: auto;
}

/* Make the bio text use a safe wrapping strategy */
.profile .profile_inner p{
  text-align: left;
  overflow-wrap: anywhere;
  word-break: normal;
  hyphens: auto;
  -webkit-hyphens: auto;
}

/* If you still prefer “even edges”, use soft justification without overflow */
@media (min-width: 860px){
  .profile .profile_inner p{
    text-align: justify;
    text-justify: inter-word;
  }
}

/* Keep inline links from forcing overflow */
.profile .profile_inner a{
  overflow-wrap: anywhere;
}

/* Optional: slightly tighter line-length on very wide screens */
@media (min-width: 1200px){
  .profile .profile_inner{
    max-width: 64ch;
  }
}

/* =========================================================
   FIX: Research glass cards/shadows getting clipped
   ========================================================= */
   .post-content .rk-tl,
   .post-content .rk-group,
   .post-content .rk-items,
   .post-content .rk-item,
   .post-content .rk-details,
   .post-content .rk-details[open] .rk-abstract,
   .post-content .rk-details[open] .rk-awards{
     overflow: visible !important;
   }
   
   /* Allow shadows to breathe at edges */
   .post-content .rk-tl{
     padding: .25rem 0 .5rem;
   }

   .post-single .post-content:has(.rk-tl){
    overflow: visible !important;
  }

  /* =========================================================
   Disable editorial side rail on /research/
   ========================================================= */
html:has(head link[rel="canonical"][href$="/research/"]) .post-content{
  border-left: none !important;
  padding-left: 0 !important;
}

/* Extra safety: remove any inherited padding inside */
html:has(head link[rel="canonical"][href$="/research/"]) .post-single .post-content{
  border-left: none !important;
  padding-left: 0 !important;
}